# Utilizationanalyticsservice.Htm

**Source:** https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm  
**Scraped:** 2025-08-01 11:22:36

---

[ ![](https://help.certinia.com/api/resources/images/Logo.png) ](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/Default.htm) Professional Services Automation Apex API Developer Reference |   
---|---  
    * [Home](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/Default.htm)
    * [Getting Started](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [Certinia API](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/GenericAPI.htm)
    * [Actuals](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APIActualsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APIActualsService.htm)
    * [Billing](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APIBillingService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APIBillingService.htm)
      * [BillingDocumentService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/BillingDocumentService.htm)
      * [BillingEventsManager](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/BillingEventsManager.htm)
    * [Common](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APICommonsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APICommonsService.htm)
      * [CalendarUtil](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/CalendarUtil.htm)
    * [Exceptions](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APIException](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APIException.htm)
    * [Milestones](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [MilestoneService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/MilestoneService.htm)
    * [Miscellaneous](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [MultiCurrencyService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/MultiCurrencyService.htm)
    * [Project Versioning and Baselines](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [VersionConfigService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/VersionConfigService.htm)
      * [VersionService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/VersionService.htm)
    * [Projects and Project Tasks](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [AddFromProjectTemplateService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/AddFromProjectTemplateService.htm)
      * [CreateProjectFromTemplateService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/CreateProjectFromTemplateService.htm)
      * [SObjectCloneMapper](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SObjectCloneMapper.htm)
      * [TaskManagementService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/TaskManagementService.htm)
    * [Rate Cards](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [RateCardMatcherPlugin](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RateCardMatcherPlugin.htm)
    * [Resource Management](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [ResourceAssignmentService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ResourceAssignmentService.htm)
      * [ResourceSearchService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ResourceSearchService.htm)
      * [ScheduleResourceService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ScheduleResourceService.htm)
    * [Scheduling](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [AssignmentService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/AssignmentService.htm)
      * [HoursToDaysRuleService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/HoursToDaysRuleService.htm)
      * [ScheduleSaveDTO](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ScheduleSaveDTO.htm)
      * [ScheduleService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ScheduleService.htm)
      * [SchedulingStrategyService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm)
    * [Services Forecasting](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [RevenueForecastScheduler](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastScheduler.htm)
      * [RevenueForecastService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm)
      * [RevenueForecastVersionScheduler](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastVersionScheduler.htm)
      * [RevenueForecastVersionService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastVersionService.htm)
    * [Shift Management](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [TeamScheduleService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/TeamScheduleService.htm)
      * [TeamScheduleTemplateService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/TeamScheduleTemplateService.htm)
    * [Skills](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [SkillsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SkillsService.htm)
    * [Time And Expense](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [PSATimecardService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/PSATimecardService.htm)
    * [Utilization Analytics](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [UtilizationAnalyticsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm)

|  pse.UtilizationAnalyticsService global with sharing class UtilizationAnalyticsService
  * [RunUtilizationResponse](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#RunUtilizationResponse)

This service provides the functionality relating to Utilization Analytics.
## Methods
  * [global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilization()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#runUtilization0)
  * [global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilization(Date startDate, Date endDate)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#runUtilization1)
  * [global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilization(pse__Utilization_Setup__c setup)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#runUtilization2)
  * [global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilization(Id setupId)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#runUtilization3)
  * [global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilizationForResource(Id resourceId)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#runUtilizationForResource0)
  * [global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilizationForResource(Id resourceId, Date startDate, Date endDate)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#runUtilizationForResource1)
  * [global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilizationForRole(String roleName)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#runUtilizationForRole0)
  * [global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilizationForRole(String roleName, Date startDate, Date endDate)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#runUtilizationForRole1)
  * [global static Boolean isUtilizationAnalyticsTransaction()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#isUtilizationAnalyticsTransaction0)

runUtilization _global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilization()_ Queues Utilization Analytics Apex jobs to asynchronously process objects required. For example, Timecards and Assignments.
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

pse.UtilizationAnalyticsService.RunUtilizationResponse response = pse.UtilizationAnalyticsService.runUtilization();
if (!response.errors.isEmpty()){
  System.debug('Errors: ' + response.errors);
}

```
runUtilization _global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilization(Date startDate, Date endDate)_ Queues Utilization Analytics Apex jobs to asynchronously process objects required. For example, Timecards and Assignments.
#### Input Parameters
| Name | Type | Description  
---|---|---  
startDate | Date | Value to set the start date for the Utilization Analytics Apex job run.  
endDate | Date | Value to set the end date for the Utilization Analytics Apex job run.  
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

pse.UtilizationAnalyticsService.RunUtilizationResponse response = pse.UtilizationAnalyticsService.runUtilization(
  Date.newInstance(2023, 7, 1),
  Date.newInstance(2023, 7, 7)
);
if (!response.errors.isEmpty()){
  System.debug('Errors: ' + response.errors);
}

```

runUtilization
_global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilization(pse__Utilization_Setup__c setup)_
Queues Utilization Analytics Apex jobs to asynchronously process objects required. For example, Timecards and Assignments.
#### Input Parameters
Name | Type | Description  
---|---|---  
setup | pse__Utilization_Setup__c | The instance of the Utilization Setup, used to derive parameters for the Utilization Analytics Apex job run.  
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

Utilization_Setup__c setup = new Utilization_Setup__c();
pse.UtilizationAnalyticsService.RunUtilizationResponse response = pse.UtilizationAnalyticsService.runUtilization(setup);
if (!response.errors.isEmpty()){
  System.debug('Errors: ' + response.errors);
}

```

runUtilization
_global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilization(Id setupId)_
Queues Utilization Analytics Apex jobs to asynchronously process objects required. For example, Timecards and Assignments.
#### Input Parameters
Name | Type | Description  
---|---|---  
setupId | Id | The ID of the Utilization Setup, used to derive parameters for the Utilization Analytics Apex job run.  
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

Id setupId = [SELECT Id FROM pse__Utilization_Setup__c LIMIT 1][0].Id; 
pse.UtilizationAnalyticsService.RunUtilizationResponse response = pse.UtilizationAnalyticsService.runUtilization(setupId);
if (!response.errors.isEmpty()){
  System.debug('Errors: ' + response.errors);
}

```

runUtilizationForResource
_global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilizationForResource(Id resourceId)_
Queues Utilization Analytics Apex jobs to asynchronously process for a specific resource.
#### Input Parameters
Name | Type | Description  
---|---|---  
resourceId | Id | The resource for which utilization will be calculated.  
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

Id resourceId = [SELECT Id FROM Contact WHERE pse__Is_Resource__c = True LIMIT 1][0].Id; 
pse.UtilizationAnalyticsService.RunUtilizationResponse response = pse.UtilizationAnalyticsService.runUtilizationForResource(resourceId);
if (!response.errors.isEmpty()){
  System.debug('Errors: ' + response.errors);
}

```

runUtilizationForResource
_global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilizationForResource(Id resourceId, Date startDate, Date endDate)_
Queues Utilization Analytics Apex jobs to asynchronously process for a specific resource, between specific dates.
#### Input Parameters
Name | Type | Description  
---|---|---  
resourceId | Id | The resource for which utilization will be calculated.  
startDate | Date | Value to set the start date for the Utilization Analytics Apex job run.  
endDate | Date | Value to set the end date for the Utilization Analytics Apex job run.  
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

Id resourceId = [SELECT Id FROM Contact WHERE pse__Is_Resource__c = True LIMIT 1][0].Id; 
pse.UtilizationAnalyticsService.RunUtilizationResponse response = pse.UtilizationAnalyticsService.runUtilizationForResource(
  resourceId,
  Date.newInstance(2023, 7, 1),
  Date.newInstance(2023, 7, 7)
);
if (!response.errors.isEmpty()){
  System.debug('Errors: ' + response.errors);
}

```

runUtilizationForRole
_global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilizationForRole(String roleName)_
Queues Utilization Analytics Apex jobs to asynchronously process for a specific role.
#### Input Parameters
Name | Type | Description  
---|---|---  
roleName | String | The role for which utilization will be calculated.  
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

pse.UtilizationAnalyticsService.RunUtilizationResponse response = pse.UtilizationAnalyticsService.runUtilizationForRole('Trainer');
if (!response.errors.isEmpty()){
  System.debug('Errors: ' + response.errors);
}

```

runUtilizationForRole
_global static pse.UtilizationAnalyticsService.RunUtilizationResponse runUtilizationForRole(String roleName, Date startDate, Date endDate)_
Queues Utilization Analytics Apex jobs to asynchronously process for a specific role, between specific dates.
#### Input Parameters
Name | Type | Description  
---|---|---  
roleName | String | The role for which utilization will be calculated.  
startDate | Date | Value to set the start date for the Utilization Analytics Apex job run.  
endDate | Date | Value to set the end date for the Utilization Analytics Apex job run.  
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

pse.UtilizationAnalyticsService.RunUtilizationResponse response = pse.UtilizationAnalyticsService.runUtilizationForRole(
  'Trainer',
  Date.newInstance(2023, 7, 1),
  Date.newInstance(2023, 7, 7)
);
if (!response.errors.isEmpty()){
  System.debug('Errors: ' + response.errors);
}

```

isUtilizationAnalyticsTransaction
_global static Boolean isUtilizationAnalyticsTransaction()_
DEPRECATED - This method was desgined when the Utilization process updated the Assignment and ResourceRequest objects directly. This is no longer the case. Checks if the current transaction is running in the Utilization Analytics context. Can be used within a trigger on the Assignment or Resource Request SObject to return early as no additional processing should be carried out when running in the Utilization Analytics context.
#### Return Value
True if the current transaction is running in the Utilization Analytics context.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

trigger CustomAssignmentTrigger on pse__Assignment__c (before insert, before update) {
    if (pse.UtilizationAnalyticsService.isUtilizationAnalyticsTransaction()) {
        return;
    }
​
    for (Assignment__c assignment : Trigger.new) {
        assignment.addError('An error occurred');
    }
}

```

pse.UtilizationAnalyticsService.RunUtilizationResponse
global inherited sharing class RunUtilizationResponse
The response structure from creating a utilization run.   

## Properties
Name | Type | Description  
---|---|---  
utilizationRunId | Id |  The Id of the Utilization run.   
  
errors | List<String> |  A list of the errors encountered by the Utilization Analytics service call.   
  
## Methods
  * [global RunUtilizationResponse()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm#RunUtilizationResponse0)


RunUtilizationResponse
_global RunUtilizationResponse()_
A constructor that creates a new RunUtilizationResponse instance.   

© Copyright 2009–2025 Certinia Inc. All rights reserved. Various trademarks held by their respective owners. 
