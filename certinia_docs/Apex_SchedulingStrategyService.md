# Schedulingstrategyservice.Htm

**Source:** https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm  
**Scraped:** 2025-08-01 11:22:36

---

[ ![](https://help.certinia.com/api/resources/images/Logo.png) ](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/Default.htm) Professional Services Automation Apex API Developer Reference |   
---|---  
    * [Home](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/Default.htm)
    * [Getting Started](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [Certinia API](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/GenericAPI.htm)
    * [Actuals](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APIActualsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APIActualsService.htm)
    * [Billing](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APIBillingService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APIBillingService.htm)
      * [BillingDocumentService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/BillingDocumentService.htm)
      * [BillingEventsManager](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/BillingEventsManager.htm)
    * [Common](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APICommonsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APICommonsService.htm)
      * [CalendarUtil](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/CalendarUtil.htm)
    * [Exceptions](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APIException](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APIException.htm)
    * [Milestones](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [MilestoneService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/MilestoneService.htm)
    * [Miscellaneous](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [MultiCurrencyService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/MultiCurrencyService.htm)
    * [Project Versioning and Baselines](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [VersionConfigService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/VersionConfigService.htm)
      * [VersionService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/VersionService.htm)
    * [Projects and Project Tasks](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [AddFromProjectTemplateService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/AddFromProjectTemplateService.htm)
      * [CreateProjectFromTemplateService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/CreateProjectFromTemplateService.htm)
      * [SObjectCloneMapper](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SObjectCloneMapper.htm)
      * [TaskManagementService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/TaskManagementService.htm)
    * [Rate Cards](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [RateCardMatcherPlugin](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RateCardMatcherPlugin.htm)
    * [Resource Management](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [ResourceAssignmentService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ResourceAssignmentService.htm)
      * [ResourceSearchService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ResourceSearchService.htm)
      * [ScheduleResourceService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ScheduleResourceService.htm)
    * [Scheduling](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [AssignmentService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/AssignmentService.htm)
      * [HoursToDaysRuleService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/HoursToDaysRuleService.htm)
      * [ScheduleSaveDTO](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ScheduleSaveDTO.htm)
      * [ScheduleService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ScheduleService.htm)
      * [SchedulingStrategyService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm)
    * [Services Forecasting](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [RevenueForecastScheduler](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastScheduler.htm)
      * [RevenueForecastService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm)
      * [RevenueForecastVersionScheduler](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastVersionScheduler.htm)
      * [RevenueForecastVersionService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastVersionService.htm)
    * [Shift Management](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [TeamScheduleService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/TeamScheduleService.htm)
      * [TeamScheduleTemplateService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/TeamScheduleTemplateService.htm)
    * [Skills](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [SkillsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SkillsService.htm)
    * [Time And Expense](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [PSATimecardService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/PSATimecardService.htm)
    * [Utilization Analytics](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [UtilizationAnalyticsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm)

|  pse.SchedulingStrategyService global without sharing class SchedulingStrategyService
  * [ScheduleDetailField](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetailField)
  * [SplitRescheduleWrapper](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#SplitRescheduleWrapper)
  * [RescheduleWrapper](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#RescheduleWrapper)
  * [ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail)
  * [EndDateLevelScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#EndDateLevelScheduleDetail)
  * [IgnoreAvailabilityScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#IgnoreAvailabilityScheduleDetail)
  * [AdjustHoursScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#AdjustHoursScheduleDetail)
  * [PercentAllocationScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#PercentAllocationScheduleDetail)
  * [CustomScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#CustomScheduleDetail)
  * [ZeroHourScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ZeroHourScheduleDetail)
  * [SchedulePattern](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#SchedulePattern)
  * [ProposedScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ProposedScheduleDetail)
  * [PercentAllocationRow](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#PercentAllocationRow)
  * [ISchedulingStrategy](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ISchedulingStrategy)
  * [IBulkifySchedulingStrategy](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#IBulkifySchedulingStrategy)

This class contains a Scheduling API implementation for each type of Scheduling Strategy. There are inner classes for each type of Scheduling Strategy which have a method for the creation of schedules associated with assignments or resource requests. This class contains [deprecated items](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#deprecated).
## Enums
RepeatModes Defines the period for which the schedule pattern will be repeated. Like WEEKS or MONTHS. | Value | Description  
---|---  
WEEKS | The schedule pattern will be repeated using week as the period.  
## Methods
  * [global pse.SchedulingStrategyService.ProposedScheduleDetail prepareSchedule(pse.SchedulingStrategyService.ScheduleDetail scheduleDetail)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#prepareSchedule0)
  * [global List<pse.SchedulingStrategyService.ProposedScheduleDetail> prepareSchedules(List<pse.SchedulingStrategyService.ScheduleDetail> scheduleDetails)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#prepareSchedules0)
  * [global Boolean reschedule(List<pse.SchedulingStrategyService.RescheduleWrapper> rescheduleWrapperList)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#reschedule0)
  * [global List<pse__Assignment__c> splitReschedule(List<pse.SchedulingStrategyService.SplitRescheduleWrapper> splitRescheduleWrapperList)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#splitReschedule0)


prepareSchedule
_global pse.SchedulingStrategyService.ProposedScheduleDetail prepareSchedule(pse.SchedulingStrategyService.ScheduleDetail scheduleDetail)_
This method calculates a Schedule and ScheduleExceptions for the provided ScheduleDetail parameters.
#### Input Parameters
Name | Type | Description  
---|---|---  
scheduleDetail | [pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail) | An object of ScheduleDetail.  
#### Return Value
This service returns ProposedScheduleDetail object.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

// This sample code is to Prepare Schedule and Schedule Exception using EndDate Level strategy
static void testPrepareSchedule() 
{
    /**
     * EndDateLevelScheduleDetail extends ScheduleDetail so here we can create an instance of EndDateLevelScheduleDetail as an over requirement.
     * Here we can generate a schedule using any type of scheduling strategy by creating an instance of that class.
     */
    pse.SchedulingStrategyService.EndDateLevelScheduleDetail schDet = new pse.SchedulingStrategyService.EndDateLevelScheduleDetail();
    schDet.startDate = date.valueOf('2013-12-08');
    schDet.endDate = date.valueOf('2013-12-14');
    schDet.resourceId = resource.id;
    // Number of hours for schedule
    schDet.scheduledHours = 40;
    
    // Creating an object of SchedulingStrategyService
    pse.SchedulingStrategyService ser = new pse.SchedulingStrategyService();
    
    // Calling prepareSchedule API method
    pse.SchedulingStrategyService.ProposedScheduleDetail ps = ser.prepareSchedule(schDet);
    
    SchedulingStrategyService.SchedulePattern schPattern = ps.schedule;
    system.assertEquals(date.valueOf('2013-12-08'), schPattern.startDate);
    system.assertEquals(date.valueOf('2013-12-13'), schPattern.endDate);
    
    system.assertEquals(0, ps.scheduleExceptions.size());
}

```

#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

// This sample code is to Prepare Schedule and Schedule Exception using Custom strategy and repeat pattern for sspecified weeks.
// For Custom Scheduling Strategy if the requested hours are not consumed completely and end date is reached, then the end date gets recalculated.
Contact res = [SELECT Id FROM Contact LIMIT 1];

// Creating an object of SchedulePattern.
pse.SchedulingStrategyService.SchedulePattern schedulePattern = new pse.SchedulingStrategyService.SchedulePattern();
schedulePattern.mondayHours = 4.00;
schedulePattern.tuesdayHours = 4.00;
schedulePattern.wednesdayHours = 8.00;
schedulePattern.thursdayHours = 3.00;
schedulePattern.fridayHours = 8.00;
// Period to follow the same schedule pattern
schedulePattern.frequency = 3;
// Repeats the following schedule pattern by weeks.
schedulePattern.mode = pse.SchedulingStrategyService.RepeatModes.WEEKS;

// To support the custom strategy CustomScheduleDetail class is used that extends ScheduleDetail 
// so here we are creating an instance of CustomScheduleDetail to be passed as a param to prepareSchedule.
pse.SchedulingStrategyService.CustomScheduleDetail scheduleDetail = new pse.SchedulingStrategyService.CustomScheduleDetail();
scheduleDetail.startDate = date.valueOf('2024-10-01');
scheduleDetail.endDate = date.valueOf('2024-10-31');
scheduleDetail.schedulePattern = schedulePattern;
scheduleDetail.resourceId = res.Id;
// Number of hours for schedule
scheduleDetail.scheduledHours = 120;

// Creating an object of SchedulingStrategyService
pse.SchedulingStrategyService service = new pse.SchedulingStrategyService();

// Calling prepareSchedule API method
pse.SchedulingStrategyService.ProposedScheduleDetail proposedSchedule = service.prepareSchedule(scheduleDetail);
SchedulingStrategyService.SchedulePattern proposedPattern = proposedSchedule.schedule;

Assert.areEqual(date.valueOf('2024-10-01'), proposedPattern.startDate);
// As period was 3 weeks, so for every 3 weeks this schedule repeated, and to consume 120 hours of work the end date recalculated.
// week 1(1st to 6th oct) = 4+8+3+8 = 23 hours. week 2, 3(7th to 20th oct) = 0 hours
// week 4(21st to 27th oct) = 27 hours, week 5, 6(28th oct to 10th nov) = 0 hours
// and so on till the 120 hours gets consumed respecting the work calendar.
Assert.areEqual(date.valueOf('2025-01-13'), proposedPattern.endDate);


```

prepareSchedules
_global List <pse.SchedulingStrategyService.ProposedScheduleDetail> prepareSchedules(List<pse.SchedulingStrategyService.ScheduleDetail> scheduleDetails)_
This method calculates Schedules and ScheduleExceptions for the provided ScheduleDetails parameter.
#### Input Parameters
Name | Type | Description  
---|---|---  
scheduleDetails | List<[pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail)> | A List of ScheduleDetail objects. The list should have same type of strategy requests.  
#### Return Value
This service returns a List of ProposedScheduleDetail objects.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

// This sample code is to Prepare Schedule and Schedule Exception using EndDate Level strategy
static void testPrepareSchedule() 
{
    /**
     * EndDateLevelScheduleDetail extends ScheduleDetail so here we can create an instance of EndDateLevelScheduleDetail as an over requirement.
     * Here we can generate a schedule using any type of scheduling strategy by creating an instance of that class.
     */
    pse.SchedulingStrategyService.EndDateLevelScheduleDetail schDet = new pse.SchedulingStrategyService.EndDateLevelScheduleDetail();
    schDet.startDate = date.valueOf('2013-12-08');
    schDet.endDate = date.valueOf('2013-12-14');
    schDet.resourceId = resource.id;
    // Number of hours for schedule
    schDet.scheduledHours = 40;
    
    // Creating an object of SchedulingStrategyService
    pse.SchedulingStrategyService ser = new pse.SchedulingStrategyService();
    
    // Calling prepareSchedule API method
    pse.SchedulingStrategyService.ProposedScheduleDetail ps = ser.prepareSchedule(schDet);
    
    SchedulingStrategyService.SchedulePattern schPattern = ps.schedule;
    system.assertEquals(date.valueOf('2013-12-08'), schPattern.startDate);
    system.assertEquals(date.valueOf('2013-12-13'), schPattern.endDate);
    
    system.assertEquals(0, ps.scheduleExceptions.size());
}

```

reschedule
_global Boolean reschedule(List <pse.SchedulingStrategyService.RescheduleWrapper> rescheduleWrapperList)_
A global method to reschedule the provided list of schedules with a new proposed corresponding scheduling strategy in rescheduleWrapper.   
Operations performed as follows.   
• Deletes old Schedule Exceptions.   
• Updates the Schedule.   
• Inserts new Schedule Exceptions.   
• rescheduleWrapperList holds a new scheduling strategy and relevant parameters according to the scheduling strategy and Schedule id.   
**Note:** To use the reschedule method, users need Update permission on the _pse__Schedule__c_ object.
#### Input Parameters
Name | Type | Description  
---|---|---  
rescheduleWrapperList | List<[pse.SchedulingStrategyService.RescheduleWrapper](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#RescheduleWrapper)> | A list of RescheduleWrapper.  
#### Exceptions Thrown
Value | Description  
---|---  
ProposedScheduleDetailException | Occurs when the Schedule Id is null or any schedule is rescheduled more than once.  
#### Return Value
This service returns True if the Schedule updated then completed successfully.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

static void testReschedule()
{
    integer MaxScheduleLimit = 15;
    List<Contact> contactsList = [select id FROM Contact limit MaxScheduleLimit];
    List<Schedule__c> schedulesList = [select id from pse__Schedule__c limit MaxScheduleLimit];
    // Creating a list of RescheduleWrapper
    List<pse.SchedulingStrategyService.RescheduleWrapper> wrapperList = new List<pse.SchedulingStrategyService.RescheduleWrapper>();
    
    for(integer i = 0;i<MaxScheduleLimit;i++)
    {
        // Creating an object of SchedulePattern.
        pse.SchedulingStrategyService.SchedulePattern schPat = new pse.SchedulingStrategyService.SchedulePattern();
        schPat.mondayHours = 4.00;
        schPat.tuesdayHours = 4.00;
        schPat.wednesdayHours = 8.00;
        schPat.thursdayHours = 3.00;
        schPat.fridayHours = 8.00;
        
        // Creating an object of CustomScheduleDetail.
        pse.SchedulingStrategyService.CustomScheduleDetail schDet = new pse.SchedulingStrategyService.CustomScheduleDetail();
        // Start date of schedule.
        schDet.startDate = date.valueOf('2014-08-1');
        // End date of schedule.
        schDet.endDate = date.valueOf('2014-08-15');
        // Schedule pattern of schedule.
        schDet.schedulePattern = schPat;
        // Number of hours for schedule.
        schDet.scheduledHours = 40;
        
        // Creating an object of RescheduleWrapper
        pse.SchedulingStrategyService.RescheduleWrapper rescheduleWrapper = new pse.SchedulingStrategyService.RescheduleWrapper();
        // Resource id for schedule.
        schDet.resourceId = contactsList[i].id;
        
        rescheduleWrapper.ScheduleDetail = schDet;
        rescheduleWrapper.scheduleId = schedulesList[i].Id;
        wrapperList.add(rescheduleWrapper);
    }
    pse.SchedulingStrategyService ser = new pse.SchedulingStrategyService();
    try{
        //Calling reschedule API method
        Boolean scheduledUpdated = ser.reschedule(wrapperList);
        system.assert(scheduledUpdated, 'Schedules updation failed');
    }
    catch(Exception ex)
    {
        system.assert(false, 'Schedules updation failed : ' + ex.getMessage());
    }    
}

```

splitReschedule
_global List <pse__Assignment__c> splitReschedule(List<pse.SchedulingStrategyService.SplitRescheduleWrapper> splitRescheduleWrapperList)_
A global method to split and reschedule the schedules.   
• A new Schedule will be scheduled as per Scheduling strategy proposed in the SplitRescheduleWrapper's scheduleDetail object.   
• The old Schedule will be rescheduled by modifying its End date to one day less than the start date of the new Schedule defined under scheduleDetail.   
Operations performed as follows.   
• Updates the Schedule Exception for the old schedule.   
• Updates the old Schedule's end date to one day less than the start date of the new schedule.   
• If markAssignmentAsClosedFlag in Reschedule Wrapper is set to true then close the current assignment.   
• Inserts the new Schedule.   
• Inserts the new Schedule Exceptions.   
• Inserts the new Assignment.   
**Note:** To use the splitReschedule method, you need Create and Update permissions on the _pse__Schedule__c_ object and Create permission on the _pse__Assignment__c_ object. Additionally, When markAssignmentAsClosedFlag is true, splitReschedule updates assignments and Update Permission is required on the _pse__Assignment__c_ object. In this case permission is checked that users can update the following _pse_Assignment__c_ object fields: 
  * _pse__Status__c_
  * _pse__Closed_for_Time_Entry__c_
  * _pse__Closed_for_Expense_Entry__c_


#### Input Parameters
Name | Type | Description  
---|---|---  
splitRescheduleWrapperList | List<[pse.SchedulingStrategyService.SplitRescheduleWrapper](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#SplitRescheduleWrapper)> | The list of SplitRescheduleWrapper.  
#### Exceptions Thrown
Value | Description  
---|---  
ProposedScheduleDetailException | Occurs when the Schedule Id is null or any schedule is rescheduled more than once.  
#### Return Value
This service returns a list of newly created assignments.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

static void testSplitReschedule()
    {
        List<Contact> contactsList = [select id FROM Contact limit MaxScheduleLimit];
        List<pse__Schedule__c> schedulesList = [select id from pse__Schedule__c limit MaxScheduleLimit];
        List<pse__Assignment__c> assignmentList = [select id from pse__Assignment__c]
        
        // Creating a list of SplitRescheduleWrapper
        List<pse.SchedulingStrategyService.SplitRescheduleWrapper> wrapperList = new List<pse.SchedulingStrategyService.SplitRescheduleWrapper>();
        // Creating an object of EndDateLevelScheduleDetail
        pse.SchedulingStrategyService.EndDateLevelScheduleDetail schDet1 = new pse.SchedulingStrategyService.EndDateLevelScheduleDetail();
        // Start date of schedule.
        schDet1.startDate = System.Today();
        // End date of schedule.
        schDet1.endDate = System.Today() + 7;
        // Resource id for schedule.
        schDet1.resourceId = contactsList.get(0).Id;
        // Number of hours for schedule.
        schDet1.scheduledHours = 40;
        
        // Creating an object of SplitRescheduleWrapper
        pse.SchedulingStrategyService.SplitRescheduleWrapper wrapper1 = new pse.SchedulingStrategyService.SplitRescheduleWrapper();
        
        wrapper1.scheduleDetail = schDet1;
        wrapper1.assignment = assignmentList.get(0).id;
        wrapper1.markAssignmentAsClosedFlag = true;
        
        wrapperList.add(wrapper1);
        
        // Creating an object of EndDateLevelScheduleDetail
        pse.SchedulingStrategyService.EndDateLevelScheduleDetail schDet2 = new pse.SchedulingStrategyService.EndDateLevelScheduleDetail();
        // Start date of schedule.
        schDet2.startDate = System.Today();
        // End date of schedule.
        schDet2.endDate = System.Today() + 7;
        // Resource id for schedule.
        schDet2.resourceId = contactsList.get(1).Id;
        // Number of hours for schedule.
        schDet2.scheduledHours = 40;
        
        // Creating an object of SplitRescheduleWrapper
        pse.SchedulingStrategyService.SplitRescheduleWrapper wrapper2 = new pse.SchedulingStrategyService.SplitRescheduleWrapper();
        
        wrapper2.scheduleDetail = schDet2;
        wrapper2.assignment = assignmentList.get(1).id;
        wrapper2.markAssignmentAsClosedFlag = false;
        
        wrapperList.add(wrapper2);
        
        pse.SchedulingStrategyService ser = new pse.SchedulingStrategyService();
        List<Assignment__c> updatedAssignments;
        try
        {
            // Calling splitReschedule API Method
            updatedAssignments = ser.splitReschedule(wrapperList);            
        }
        catch(Exception ex)
        {
            system.assert(false, 'Schedules updation failed : ' + ex.getMessage());
        }
        
        pse__Assignment__c updatedOldAssignment1 = [select pse__Status__c, pse__Closed_For_Time_Entry__c, pse__End_date__c from pse__Assignment__c where id=: assignmentList.get(0).id ];
        
        system.assert(updatedOldAssignment1.pse__Status__c.equalsIgnoreCase('closed'));    
    }    
}

```

## Deprecated
The following items are deprecated and not supported for use. We recommend that you stop using these items to avoid exceptions.
### Methods
  * [global Boolean reschedule(pse.SchedulingStrategyService.RescheduleWrapper request)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#reschedule1)
  * [global pse__Assignment__c splitReschedule(pse.SchedulingStrategyService.SplitRescheduleWrapper request)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#splitReschedule1)


reschedule
**Deprecated: Use reschedule(List rescheduleWrapperList) instead.**
_global Boolean reschedule(pse.SchedulingStrategyService.RescheduleWrapper request)_
This global method reschedules a Schedule with a new proposed scheduling strategy in rescheduleWrapper.
#### Input Parameters
Name | Type | Description  
---|---|---  
request | [pse.SchedulingStrategyService.RescheduleWrapper](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#RescheduleWrapper) | An object of RescheduleWrapper.  
#### Return Value
This service returns True if the Schedule updated then completed successfully, False otherwise.
splitReschedule
**Deprecated: Use splitReschedule(List splitRescheduleWrapperList) instead.**
_global pse__Assignment__c splitReschedule(pse.SchedulingStrategyService.SplitRescheduleWrapper request)_
A global method to split and reschedule the Schedule.
#### Input Parameters
Name | Type | Description  
---|---|---  
request | [pse.SchedulingStrategyService.SplitRescheduleWrapper](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#SplitRescheduleWrapper) | An object of SplitRescheduleWrapper.  
#### Return Value
This service returns an assignment object.
pse.SchedulingStrategyService.ScheduleDetailField
global inherited sharing class ScheduleDetailField
The structure for Metadata information related to the ScheduleDetail field.   

## Properties
Name | Type | Description  
---|---|---  
dataType | Type |  Data type of field.   
  
name | String |  API Name of field.   
  
label | String |  Label of field.   
  
isRequired | boolean |  Determine whether this field is required.   
  
## Methods
  * [global ScheduleDetailField()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetailField0)


ScheduleDetailField
_global ScheduleDetailField()_
pse.SchedulingStrategyService.SplitRescheduleWrapper
global inherited sharing class SplitRescheduleWrapper
The structure for Split Reschedule related input values that are common for all strategy types.   

## Properties
Name | Type | Description  
---|---|---  
scheduleDetail | [pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail) |  The new Schedule's Scheduling strategy and details.   
  
assignment | pse__Assignment__c |  Assignment which needs to be updated.   
  
markAssignmentAsClosedFlag | Boolean |  Update the assignment to a closed status. This is an optional parameter and is false by default.   
  
pse.SchedulingStrategyService.RescheduleWrapper
global inherited sharing class RescheduleWrapper
The structure for Reschedule related input values that are common for all strategy types.   

## Properties
Name | Type | Description  
---|---|---  
scheduleDetail | [pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail) |  The new Schedule's Scheduling strategy and details.   
  
scheduleId | Id |  Schedule Id which needs to be updated.   
  
pse.SchedulingStrategyService.ScheduleDetail
global abstract inherited sharing class ScheduleDetail
The structure for Schedule related input values that are common for all strategy types.   

## Properties
Name | Type | Description  
---|---|---  
startDate | Date |  The Schedule's start date.   
  
endDate | Date |  The Schedule's end date.   
  
resourceId | Id |  The Id of the Resource for the Schedule.   
  
## Methods
  * [global abstract Type resolveImplementation()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#resolveImplementation0)
  * [global virtual Object getField()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#getField0)
  * [global virtual Object getField(String key)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#getField1)
  * [global virtual void setField(String key, Object value)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#setField0)
  * [global virtual Map<String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#enumerateFields0)


resolveImplementation
_global abstract Type resolveImplementation()_
An abstract method to resolve the Schedule class dynamically at runtime.   

getField
_global virtual Object getField()_
getField
_global virtual Object getField(String key)_
setField
_global virtual void setField(String key, Object value)_
enumerateFields
_global virtual Map <String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()_
pse.SchedulingStrategyService.EndDateLevelScheduleDetail
global inherited sharing class EndDateLevelScheduleDetail extends ScheduleDetail
The structure for Schedule related input values that will be used in the "EndDateLevelSchedule" schedule Strategy.   

This class extends [pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail)
## Properties
Name | Type | Description  
---|---|---  
scheduledHours | Double |  The total number of scheduled hours.   
  
## Methods
  * [global override Type resolveImplementation()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#resolveImplementation1)
  * [global override virtual Map<String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#enumerateFields1)


resolveImplementation
_global override Type resolveImplementation()_
enumerateFields
_global override virtual Map <String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()_
pse.SchedulingStrategyService.IgnoreAvailabilityScheduleDetail
global inherited sharing class IgnoreAvailabilityScheduleDetail extends ScheduleDetail
The structure for Schedule related input values that will be used in "EndDateIgnoreAvailability" Schedule Strategy types.   

This class extends [pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail)
## Properties
Name | Type | Description  
---|---|---  
scheduledHours | Double |  The total number of scheduled hours.   
  
## Methods
  * [global override Type resolveImplementation()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#resolveImplementation2)
  * [global override virtual Map<String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#enumerateFields2)


resolveImplementation
_global override Type resolveImplementation()_
enumerateFields
_global override virtual Map <String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()_
pse.SchedulingStrategyService.AdjustHoursScheduleDetail
global inherited sharing class AdjustHoursScheduleDetail extends ScheduleDetail
The structure for Schedule related input values that will be used in "AdjustHours" Strategy types.   

This class extends [pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail)
## Properties
Name | Type | Description  
---|---|---  
scheduledHours | Double |  The total number of scheduled hours.   
  
respectHoliday | Boolean |  A Boolean value that respects holidays.   
  
## Methods
  * [global override Type resolveImplementation()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#resolveImplementation3)
  * [global override virtual Map<String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#enumerateFields3)


resolveImplementation
_global override Type resolveImplementation()_
enumerateFields
_global override virtual Map <String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()_
pse.SchedulingStrategyService.PercentAllocationScheduleDetail
global inherited sharing class PercentAllocationScheduleDetail extends ScheduleDetail
The structure for Schedule related input values that will be used in "PercentAllocation" Strategy types.   

This class extends [pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail)
## Properties
Name | Type | Description  
---|---|---  
percentAllocationRows | List<[pse.SchedulingStrategyService.PercentAllocationRow](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#PercentAllocationRow)> |  A list of PercentAllocationRow.   
  
respectHoliday | Boolean |  A Boolean value that respects holidays.   
  
## Methods
  * [global override Type resolveImplementation()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#resolveImplementation4)
  * [global override virtual Map<String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#enumerateFields4)


resolveImplementation
_global override Type resolveImplementation()_
enumerateFields
_global override virtual Map <String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()_
pse.SchedulingStrategyService.CustomScheduleDetail
global inherited sharing class CustomScheduleDetail extends ScheduleDetail
The structure for Schedule related input values that will be used in "Custom" Strategy types.   

This class extends [pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail)
## Properties
Name | Type | Description  
---|---|---  
schedulePattern | [pse.SchedulingStrategyService.SchedulePattern](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#SchedulePattern) |  A SchedulePattern for the custom schedule strategy.   
  
scheduledHours | Double |  The total number of scheduled hours.   
  
## Methods
  * [global override Type resolveImplementation()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#resolveImplementation5)
  * [global override virtual Map<String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#enumerateFields5)


resolveImplementation
_global override Type resolveImplementation()_
enumerateFields
_global override virtual Map <String, pse.SchedulingStrategyService.ScheduleDetailField> enumerateFields()_
pse.SchedulingStrategyService.ZeroHourScheduleDetail
global inherited sharing class ZeroHourScheduleDetail extends ScheduleDetail
The structure for Schedule related input values that will be used in "ZeroHour" Strategy types.   

This class extends [pse.SchedulingStrategyService.ScheduleDetail](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#ScheduleDetail)
## Methods
  * [global override Type resolveImplementation()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#resolveImplementation6)


resolveImplementation
_global override Type resolveImplementation()_
pse.SchedulingStrategyService.SchedulePattern
global inherited sharing class SchedulePattern
The structure for input variables for Schedule creation using "Custom" strategy types.   

## Properties
Name | Type | Description  
---|---|---  
sundayHours | Double |  Sunday hours of Schedule.   
  
mondayHours | Double |  Monday hours of Schedule.   
  
tuesdayHours | Double |  Tuesday hours of Schedule.   
  
wednesdayHours | Double |  Wednesday hours of Schedule.   
  
thursdayHours | Double |  Thursday hours of Schedule.   
  
fridayHours | Double |  Friday hours of Schedule.   
  
saturdayHours | Double |  Saturday hours of Schedule.   
  
startDate | Date |  Start date of Schedule.   
  
endDate | Date |  End date of Schedule.   
  
frequency | Integer |  Integer frequency defines the number of times follow the same schedule pattern for the defined mode. Default value is 1 which means every week(mode) defined pattern will repeat till the requested hours gets consumed. so as if 2 is the value, then in every 2 weeks(mode) the pattern will be repeated. 0 and positive values are valid, Any negative value entered, would be considered as default value(1). For frequency as 0, is a special case, schedule will be created for one week only irrespective of total hours or end date.   
  
mode | [pse.SchedulingStrategyService.RepeatModes](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#RepeatModes) |  RepeatModes mode defines the period for which schedule pattern will be repeated as per the frequency. Default value is RepeatModes.WEEKS.   
  
pse.SchedulingStrategyService.ProposedScheduleDetail
global inherited sharing class ProposedScheduleDetail
The structure for information returned in the output. It will contain the Schedule and ScheduleExceptions (related to Schedule_Exception__c PSA object) for that Schedule.   

## Properties
Name | Type | Description  
---|---|---  
schedule | [pse.SchedulingStrategyService.SchedulePattern](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#SchedulePattern) |  An object of SchedulePattern.   
  
totalHours | Double |  The total number of scheduled hours.   
  
scheduleExceptions | List<[pse.SchedulingStrategyService.SchedulePattern](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#SchedulePattern)> |  A list of SchedulePattern.   
  
pse.SchedulingStrategyService.PercentAllocationRow
global inherited sharing class PercentAllocationRow
The structure for the information (startDate, endDate, percentAllocated) related to each Percent Allocation Row.   

## Properties
Name | Type | Description  
---|---|---  
startDate | Date |  Start date for Percent Allocation scheduling strategy.   
  
endDate | Date |  End date for Percent Allocation scheduling strategy.   
  
percentAllocated | Double |  PercentAllocation for Percent Allocation scheduling strategy.   
  
pse.SchedulingStrategyService.ISchedulingStrategy
global interface ISchedulingStrategy
Common interface for the different schedule calculations.   

## Methods
  * [ProposedScheduleDetail prepareSchedule(pse.SchedulingStrategyService.ScheduleDetail scheduleDetail)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#prepareSchedule1)


prepareSchedule
_ProposedScheduleDetail prepareSchedule(pse.SchedulingStrategyService.ScheduleDetail scheduleDetail)_
pse.SchedulingStrategyService.IBulkifySchedulingStrategy
global interface IBulkifySchedulingStrategy
Common interface for the different schedule calculations in bulk. This is newly created interface to avoid packaging failure as we cannont add new method in global interface.   

## Methods
  * [List<ProposedScheduleDetail> prepareSchedules(List<pse.SchedulingStrategyService.ScheduleDetail> scheduleDetails)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm#prepareSchedules1)


prepareSchedules
_List <ProposedScheduleDetail> prepareSchedules(List<pse.SchedulingStrategyService.ScheduleDetail> scheduleDetails)_
© Copyright 2009–2025 Certinia Inc. All rights reserved. Various trademarks held by their respective owners. 
