# Revenueforecastservice.Htm

**Source:** https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm  
**Scraped:** 2025-08-01 11:22:36

---

[ ![](https://help.certinia.com/api/resources/images/Logo.png) ](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/Default.htm) Professional Services Automation Apex API Developer Reference |   
---|---  
    * [Home](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/Default.htm)
    * [Getting Started](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [Certinia API](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/GenericAPI.htm)
    * [Actuals](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APIActualsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APIActualsService.htm)
    * [Billing](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APIBillingService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APIBillingService.htm)
      * [BillingDocumentService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/BillingDocumentService.htm)
      * [BillingEventsManager](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/BillingEventsManager.htm)
    * [Common](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APICommonsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APICommonsService.htm)
      * [CalendarUtil](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/CalendarUtil.htm)
    * [Exceptions](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [APIException](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/APIException.htm)
    * [Milestones](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [MilestoneService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/MilestoneService.htm)
    * [Miscellaneous](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [MultiCurrencyService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/MultiCurrencyService.htm)
    * [Project Versioning and Baselines](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [VersionConfigService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/VersionConfigService.htm)
      * [VersionService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/VersionService.htm)
    * [Projects and Project Tasks](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [AddFromProjectTemplateService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/AddFromProjectTemplateService.htm)
      * [CreateProjectFromTemplateService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/CreateProjectFromTemplateService.htm)
      * [SObjectCloneMapper](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SObjectCloneMapper.htm)
      * [TaskManagementService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/TaskManagementService.htm)
    * [Rate Cards](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [RateCardMatcherPlugin](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RateCardMatcherPlugin.htm)
    * [Resource Management](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [ResourceAssignmentService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ResourceAssignmentService.htm)
      * [ResourceSearchService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ResourceSearchService.htm)
      * [ScheduleResourceService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ScheduleResourceService.htm)
    * [Scheduling](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [AssignmentService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/AssignmentService.htm)
      * [HoursToDaysRuleService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/HoursToDaysRuleService.htm)
      * [ScheduleSaveDTO](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ScheduleSaveDTO.htm)
      * [ScheduleService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/ScheduleService.htm)
      * [SchedulingStrategyService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SchedulingStrategyService.htm)
    * [Services Forecasting](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [RevenueForecastScheduler](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastScheduler.htm)
      * [RevenueForecastService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm)
      * [RevenueForecastVersionScheduler](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastVersionScheduler.htm)
      * [RevenueForecastVersionService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastVersionService.htm)
    * [Shift Management](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [TeamScheduleService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/TeamScheduleService.htm)
      * [TeamScheduleTemplateService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/TeamScheduleTemplateService.htm)
    * [Skills](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [SkillsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/SkillsService.htm)
    * [Time And Expense](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [PSATimecardService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/PSATimecardService.htm)
    * [Utilization Analytics](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/)
      * [UtilizationAnalyticsService](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/UtilizationAnalyticsService.htm)

|  pse.RevenueForecastService global with sharing class RevenueForecastService
  * [RunForOpportunitiesAsyncRequest](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForOpportunitiesAsyncRequest)
  * [RunForOpportunitiesAsyncResponse](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForOpportunitiesAsyncResponse)
  * [RunForProjectsAsyncRequest](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForProjectsAsyncRequest)
  * [RunForProjectsAsyncResponse](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForProjectsAsyncResponse)

This service provides the functionality relating to revenue forecasts.
## Methods
  * [global static pse.RevenueForecastService.RunForOpportunitiesAsyncResponse runForOpportunitiesAsync(pse.RevenueForecastService.RunForOpportunitiesAsyncRequest request)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#runForOpportunitiesAsync0)
  * [global static pse.RevenueForecastService.RunForProjectsAsyncResponse runForProjectsAsync(pse.RevenueForecastService.RunForProjectsAsyncRequest request)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#runForProjectsAsync0)

runForOpportunitiesAsync _global static pse.RevenueForecastService.RunForOpportunitiesAsyncResponse runForOpportunitiesAsync(pse.RevenueForecastService.RunForOpportunitiesAsyncRequest request)_ Enqueues the Revenue Forecast Apex job to asynchronously process opportunities marked as Revenue Forecast Batch Update Pending. If opportunity IDs are provided, it will mark those opportunities as Revenue Forecast Batch Update Pending before scheduling the Apex job.
#### Input Parameters
| Name | Type | Description  
---|---|---  
request | [pse.RevenueForecastService.RunForOpportunitiesAsyncRequest](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForOpportunitiesAsyncRequest) | The configuration for the operation.  
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

Opportunity[] opportunities = [SELECT Id FROM Opportunity LIMIT 10];
Set<Id> opportunityIds = new Map<Id, SObject>(opportunities).keySet();
pse.RevenueForecastService.RunForOpportunitiesAsyncRequest request = new pse.RevenueForecastService.RunForOpportunitiesAsyncRequest( opportunityIds );
pse.RevenueForecastService.RunForOpportunitiesAsyncResponse response = pse.RevenueForecastVersionService.runForOpportunitiesAsync(request);

for (Opportunity opportunityRecord : opportunities) {
    Boolean success = response.getSuccess(opportunityRecord.Id);
}

```

runForProjectsAsync
_global static pse.RevenueForecastService.RunForProjectsAsyncResponse runForProjectsAsync(pse.RevenueForecastService.RunForProjectsAsyncRequest request)_
Enqueues the Revenue Forecast Apex job to asynchronously process projects marked as Revenue Forecast Batch Update Pending. If project IDs are provided, it will mark those projects as Revenue Forecast Batch Update Pending before scheduling the Apex job.
#### Input Parameters
Name | Type | Description  
---|---|---  
request | [pse.RevenueForecastService.RunForProjectsAsyncRequest](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForProjectsAsyncRequest) | The configuration for the operation.  
#### Return Value
The result of the operation.
#### Sample Code
```
//Note: This sample code is for demonstration purposes only. It is not intended for
//use in a production environment, is not guaranteed against defects or errors, and
//is in no way optimized or streamlined.

pse__Proj__c[] projects = [SELECT Id FROM pse__Proj__c LIMIT 10];
Set<Id> projectIds = new Map<Id, SObject>(projects).keySet();
pse.RevenueForecastService.RunForProjectsAsyncRequest request = new pse.RevenueForecastService.RunForProjectsAsyncRequest( projectIds );
pse.RevenueForecastService.RunForProjectsAsyncResponse response = pse.RevenueForecastVersionService.runForProjectsAsync(request);

for (pse__Proj__c project : projects) {
    Boolean success = response.getSuccess(project.Id);
}

```

pse.RevenueForecastService.RunForOpportunitiesAsyncRequest
global with sharing class RunForOpportunitiesAsyncRequest
The request structure for creating revenue forecasts for opportunities.   

## Properties
Name | Type | Description  
---|---|---  
OpportunityIds | Set<Id> |  The opportunity IDs to be forecasted. If empty, all opportunities pending an update will be forecasted.   
  
## Methods
  * [global RunForOpportunitiesAsyncRequest()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForOpportunitiesAsyncRequest0)
  * [global RunForOpportunitiesAsyncRequest(Set<Id> opportunityIds)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForOpportunitiesAsyncRequest1)


RunForOpportunitiesAsyncRequest
_global RunForOpportunitiesAsyncRequest()_
A constructor that creates a new RunForOpportunitiesAsyncRequest instance.   

RunForOpportunitiesAsyncRequest
_global RunForOpportunitiesAsyncRequest(Set <Id> opportunityIds)_
A constructor that creates a new RunForOpportunitiesAsyncRequest instance.
#### Input Parameters
Name | Type | Description  
---|---|---  
opportunityIds | Set<Id> | The opportunity IDs to be forecasted.  
pse.RevenueForecastService.RunForOpportunitiesAsyncResponse
global with sharing class RunForOpportunitiesAsyncResponse
The response structure from creating revenue forecasts for opportunities.   

## Properties
Name | Type | Description  
---|---|---  
ErrorsByOpportunityId | Map<Id, List<String>> |  A map of the errors returned by the forecast run, keyed by Opportunity ID   
  
IsUsingUnsupportedRevManVersion | Boolean |  Whether a supported version of Revenue Management is in use   
  
## Methods
  * [global RunForOpportunitiesAsyncResponse()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForOpportunitiesAsyncResponse0)
  * [global Boolean getSuccess(Id opportunityId)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#getSuccess0)
  * [global List<String> getErrors(Id opportunityId)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#getErrors0)
  * [global Map<Id, List<String>> getAllErrorsByOpportunityId()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#getAllErrorsByOpportunityId0)


RunForOpportunitiesAsyncResponse
_global RunForOpportunitiesAsyncResponse()_
A constructor that creates a new RunForOpportunitiesAsyncResponse instance.   

getSuccess
_global Boolean getSuccess(Id opportunityId)_
Indicates whether the given opportunity was successfully marked as Revenue Forecast Batch Update Pending.
#### Input Parameters
Name | Type | Description  
---|---|---  
opportunityId | Id | The opportunity ID.  
#### Return Value
True if the forecast was successfully created for a given opportunity ID.
getErrors
_global List <String> getErrors(Id opportunityId)_
Lists the errors encountered while marking the given opportunity as Revenue Forecast Batch Update Pending.
#### Input Parameters
Name | Type | Description  
---|---|---  
opportunityId | Id | The opportunity ID.  
#### Return Value
The list of errors for the given opportunity ID.
getAllErrorsByOpportunityId
_global Map <Id, List<String>> getAllErrorsByOpportunityId()_
Lists the errors encountered while marking the given opportunities as Revenue Forecast Batch Update Pending and enqueuing the Revenue Forecast Apex job.
#### Return Value
The list of errors for the given Opportunity ID.
pse.RevenueForecastService.RunForProjectsAsyncRequest
global with sharing class RunForProjectsAsyncRequest
The request structure for creating revenue forecasts for projects.   

## Properties
Name | Type | Description  
---|---|---  
ProjectIds | Set<Id> |  The project IDs to be forecasted. If empty, all pending projects will be processed.   
  
## Methods
  * [global RunForProjectsAsyncRequest()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForProjectsAsyncRequest0)
  * [global RunForProjectsAsyncRequest(Set<Id> projectIds)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForProjectsAsyncRequest1)


RunForProjectsAsyncRequest
_global RunForProjectsAsyncRequest()_
A constructor that creates a new RunForProjectsAsyncRequest instance.   

RunForProjectsAsyncRequest
_global RunForProjectsAsyncRequest(Set <Id> projectIds)_
A constructor that creates a new RunForProjectsAsyncRequest instance.
#### Input Parameters
Name | Type | Description  
---|---|---  
projectIds | Set<Id> | The project IDs to be forecasted.  
pse.RevenueForecastService.RunForProjectsAsyncResponse
global with sharing class RunForProjectsAsyncResponse
The response structure from creating revenue forecasts for projects.   

## Properties
Name | Type | Description  
---|---|---  
ErrorsByProjectId | Map<Id, List<String>> |  A map of the errors returned by the forecast run, keyed by Opportunity ID   
  
IsUsingUnsupportedRevManVersion | Boolean |  Whether a supported version of Revenue Management is in use   
  
## Methods
  * [global RunForProjectsAsyncResponse()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForProjectsAsyncResponse0)
  * [global RunForProjectsAsyncResponse(Map<Id, List<String>> errorsByProjectId, Boolean usingUnsupportedRevManVersion)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#RunForProjectsAsyncResponse1)
  * [global Boolean getSuccess(Id projectId)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#getSuccess1)
  * [global List<String> getErrors(Id projectId)](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#getErrors1)
  * [global Map<Id, List<String>> getAllErrorsByProjectId()](https://help.certinia.com/TechnicalReference/2025.1/ProfessionalServicesAutomation/Apex/RevenueForecastService.htm#getAllErrorsByProjectId0)


RunForProjectsAsyncResponse
_global RunForProjectsAsyncResponse()_
A constructor that creates a new RunForProjectsAsyncResponse instance.   

RunForProjectsAsyncResponse
_global RunForProjectsAsyncResponse(Map <Id, List<String>> errorsByProjectId, Boolean usingUnsupportedRevManVersion)_
A constructor that creates a new RunForProjectsAsyncResponse instance.   

getSuccess
_global Boolean getSuccess(Id projectId)_
Indicates whether the given project was successfully marked as Revenue Forecast Batch Update Pending.
#### Input Parameters
Name | Type | Description  
---|---|---  
projectId | Id | The project ID.  
#### Return Value
True if the forecast was successfully created for a given project ID.
getErrors
_global List <String> getErrors(Id projectId)_
Lists the errors encountered while marking the given project as Revenue Forecast Batch Update Pending.
#### Input Parameters
Name | Type | Description  
---|---|---  
projectId | Id | The project ID.  
#### Return Value
The list of errors for the given project ID.
getAllErrorsByProjectId
_global Map <Id, List<String>> getAllErrorsByProjectId()_
Lists the errors encountered while marking the given projects as Revenue Forecast Batch Update Pending and enqueuing the Revenue Forecast Apex job.
#### Return Value
The list of errors for the given project ID.
© Copyright 2009–2025 Certinia Inc. All rights reserved. Various trademarks held by their respective owners. 
